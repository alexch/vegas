<html>
  <head>
    <title>Erector - FAQ</title>
    <link href="erector.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <table>
      <tr>
        <td valign="top">          <div class="sidebar"><a href="index.html"><img align="left" src="erector.jpg" /></a>
            <br clear="all" />
            <h3>On This Site:</h3>
            <ul>
              <li class="clickable" onclick="document.location='index.html'"><a href="index.html">Readme</a></li>
              <li class="clickable" onclick="document.location='userguide.html'"><a href="userguide.html">User Guide</a></li>
              <li class="clickable" onclick="document.location='faq.html'"><a href="faq.html">FAQ</a></li>
              <li class="clickable" onclick="document.location='developers.html'"><a href="developers.html">For Developers</a></li>
            </ul>
            <hr />
            <h3>External Links:</h3>
            <ul>
              <li class="clickable" onclick="document.location='http://rubyforge.org/frs/?group_id=4797'"><a href="http://rubyforge.org/frs/?group_id=4797">Download</a>
                <br />
                <span> (current version: 0.6.3)</span></li>
              <li class="clickable" onclick="document.location='http://erector.rubyforge.org/svn/trunk/History.txt'"><a href="http://erector.rubyforge.org/svn/trunk/History.txt">Version History</a></li>
              <li class="clickable" onclick="document.location='rdoc'"><a href="rdoc">RDoc Documentation</a></li>
              <li class="clickable" onclick="document.location='http://rubyforge.org/projects/erector/'"><a href="http://rubyforge.org/projects/erector/">RubyForge Project</a></li>
              <li class="clickable" onclick="document.location='http://github.com/pivotal/erector'"><a href="http://github.com/pivotal/erector">Github Repository</a></li>
              <li class="clickable" onclick="document.location='http://www.pivotaltracker.com/projects/482'"><a href="http://www.pivotaltracker.com/projects/482">Tracker Project</a></li>
              <li class="clickable" onclick="document.location='http://googlegroups.com/group/erector'"><a href="http://googlegroups.com/group/erector">Google Groups Mailing List</a></li>
              <li class="clickable" onclick="document.location='http://rubyforge.org/pipermail/erector-devel/'"><a href="http://rubyforge.org/pipermail/erector-devel/">erector-devel Mailing List (archive)</a></li>
            </ul>
            <hr />
            <h3>Supported by:</h3>
            <center><a href="http://www.pivotallabs.com"><img alt="Pivotal Labs" height="57" src="pivotal.gif" width="158" /></a></center>
          </div>
</td>
        <td valign="top">
          <h1 class="title">Erector - FAQ</h1>
          <hr />
          <div class="body">            <ul>
              <li><a href="#whatiserector">What is Erector?</a></li>
              <li><a href="#wherearethedocs">Where are the docs?</a></li>
              <li><a href="#whyuseerector">Why use Erector?</a></li>
              <li><a href="#wherearesomeexamples">Where are some examples?</a></li>
              <li><a href="#howdoeserectorstackupagainstmarkaby">How does Erector stack up against Markaby?</a></li>
              <li><a href="#howdoeserectorstackupagainsthaml">How does Erector stack up against HAML?</a></li>
              <li><a href="#howdoiuselayouts">How do I use layouts?</a></li>
            </ul>
            <a name="whatiserector"></a>
            <h2>What is Erector?</h2>
            <p>Erector is a Builder-like view framework, inspired by <a href="http://code.whytheluckystiff.net/markaby/">Markaby</a> but overcoming some of its flaws. In Erector all views are objects, not template files, which allows the full power of object-oriented programming (inheritance, modular decomposition, encapsulation) in views.</p>
            <a name="wherearethedocs"></a>
            <h2>Where are the docs?</h2>
            <p>See the <a href="http://erector.rubyforge.org/rdoc/classes/Erector/Widget.html">rdoc for the Erector::Widget class</a> to learn how to make your own widgets, and visit the project site at <a href="http://erector.rubyforge.org">http://erector.rubyforge.org</a> for more documentation, especially the <a href="userguide.html">user guide</a>.</p>
            <a name="whyuseerector"></a>
            <h2>Why use Erector?</h2>
            <div>Briefly...</div>
            <ul>
              <li>Markaby-style DOM builder domain language</li>
              <li>Your views are real classes, written in a real language, allowing
                <ul>
                  <li>Functional decomposition</li>
                  <li>Inheritance</li>
                  <li>Composition, not partials</li>
                  <li>Well-defined semantics for variables, loops, blocks</li>
                  <li>Dependency injection via constructor params</li>
                </ul>
              </li>
              <li>As little magic as possible while maintaining Rails compatibility</li>
              <li>yield works again (Markaby broke it)</li>
              <li>Very testable</li>
              <li>form_for ERB code is craaaaazy (not to mention the quagmire of options vs. htmloptions)</li>
              <li>Output is streamed, improving performance over string copy</li>
            </ul>
            <a name="wherearesomeexamples"></a>
            <h2>Where are some examples?</h2>
            <p>This very web site you're reading right now is built with Erector, using the <a href="userguide.html#erector">erector</a> tool. See the <a href="http://github.com/pivotal/erector">repository</a> (especially the web directory).</p>
            <p>We also have several examples checked in to the repository in the examples directory.</p>
            <p>Currently we don't know of any open-source projects built with Erector so we can't show you working source code for a full Erector webapp.</p>
            <a name="howdoeserectorstackupagainstmarkaby"></a>
            <h2>How does Erector stack up against Markaby?</h2>
            <p>We loved <a href="http://code.whytheluckystiff.net/markaby/">Markaby</a> when we first saw it, since it transformed the gnarliness of Rails' ERB views into a clean, functional programming lanugage where views are primarily code with ways to emit HTML, rather than HTML with ways to hack in code. However, we soon realized Markaby had two main flaws:
              <ol>
                <li>It didn't go quite far enough down the OO road -- Markaby views are still fragments, not classes</li>
                <li>Its use of instance_eval and capture, as well as a view's functional-but-not-quite-an-object nature, led to too much magic and made it very difficult to debug</li>
              </ol>
            </p>
            <p>Erector was conceived as a natural evolution of Markaby, but overcoming these two flaws. We think Erector can do pretty much everything Markaby can; if you find a counterexample, please let us know on the <a href="http://googlegroups.com/group/erector"> mailing list</a>.</p>
            <a name="howdoeserectorstackupagainsthaml"></a>
            <h2>How does Erector stack up against HAML?</h2>
            <p><a href="http://haml.hamptoncatlin.com/">HAML</a> is beautiful. But it suffers from the same design flaw (or, some would say, advantage) as every templating technology: views are not objects, and markup isn't code. But views want to do codey things like loops and variables and modular decomposition and inheritance, and every effort to wedge control logic into markup ends up smelling like a hack. There's always going to be some algorithmic idiom that's awkward in a template language. We figure, why deny it? Code is code. Embrace your true nature! Lick your screen and taste the code!</p>
            <a name="howdoiuselayouts"></a>
            <h2>How do I use layouts?</h2>
            <p>Rails has a concept of layouts, which are essentially skeletons for a page, which get fleshed out by views. This is a powerful mechanism for rendering web pages; however, the mechanism Rails uses (via content_for and yield) is fundamentally incompatible with Erector's &quot;just call the content method&quot; design.</p>
            <p>We recommend a slightly different approach, known officially as the <a href="http://en.wikipedia.org/wiki/Template_method_pattern">Template Method Design Pattern</a>: define a parent class (e.g. Page) and have your view widgets extend this class rather than directly extending Erector::Widget. The parent class implements content, and calls down to the child class to render sections or acquire information that's specific to that view.</p>
            <p>For an example with source code, see <a href="userguide.html#layoutinheritance">the user guide</a>. Also see Alex Chaffee's Page base class, at <a href="http://gist.github.com/103976"> this gist snippet</a> (which we may soon integrate into Erector proper).</p>
</div>
        </td>
      </tr>
    </table>
  </body>
</html>
